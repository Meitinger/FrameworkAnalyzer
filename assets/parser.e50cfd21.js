var Qe=Object.defineProperty,Xe=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var Pe=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Ie=(k,f,j)=>f in k?Qe(k,f,{enumerable:!0,configurable:!0,writable:!0,value:j}):k[f]=j,O=(k,f)=>{for(var j in f||(f={}))Ze.call(f,j)&&Ie(k,j,f[j]);if(Pe)for(var j of Pe(f))$e.call(f,j)&&Ie(k,j,f[j]);return k},Q=(k,f)=>Xe(k,Ye(f));(function(){"use strict";var k=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},f={exports:{}};(function(X,b){(function(A,M){X.exports=M()})(typeof self!="undefined"?self:k,function(){return function(A){var M={};function E(o){if(M[o])return M[o].exports;var c=M[o]={i:o,l:!1,exports:{}};return A[o].call(c.exports,c,c.exports,E),c.l=!0,c.exports}return E.m=A,E.c=M,E.d=function(o,c,s){E.o(o,c)||Object.defineProperty(o,c,{configurable:!1,enumerable:!0,get:s})},E.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},E.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return E.d(c,"a",c),c},E.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},E.p="",E(E.s=0)}([function(A,M,E){function o(e){if(!(this instanceof o))return new o(e);this._=e}var c=o.prototype;function s(e,t){for(var n=0;n<e;n++)t(n)}function h(e,t,n){return function(r,u){s(u.length,function(a){r(u[a],a,u)})}(function(r,u,a){t=e(t,r,u,a)},n),t}function d(e,t){return h(function(n,r,u,a){return n.concat([e(r,u,a)])},[],t)}function v(e,t){var n={v:0,buf:t};return s(e,function(){var r;n={v:n.v<<1|(r=n.buf,r[0]>>7),buf:function(u){var a=h(function(i,l,m,B){return i.concat(m===B.length-1?Buffer.from([l,0]).readUInt16BE(0):B.readUInt16BE(m))},[],u);return Buffer.from(d(function(i){return(i<<1&65535)>>8},a))}(n.buf)}}),n}function p(){return typeof Buffer!="undefined"}function g(){if(!p())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function ve(e){g();var t=h(function(a,i){return a+i},0,e);if(t%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+t+" which is not an even number of bytes; the total should be divisible by 8");var n,r=t/8,u=(n=function(a){return a>48},h(function(a,i){return a||(n(i)?i:a)},null,e));if(u)throw new Error(u+" bit range requested exceeds 48 bit (6 byte) Number max.");return new o(function(a,i){var l=r+i;return l>a.length?L(i,r.toString()+" bytes"):y(l,h(function(m,B){var w=v(B,m.buf);return{coll:m.coll.concat(w.v),buf:w.buf}},{coll:[],buf:a.slice(i,l)},e).coll)})}function q(e,t){return new o(function(n,r){return g(),r+t>n.length?L(r,t+" bytes for "+e):y(r+t,n.slice(r,r+t))})}function ne(e,t){if(typeof(n=t)!="number"||Math.floor(n)!==n||t<0||t>6)throw new Error(e+" requires integer length in range [0, 6].");var n}function re(e){return ne("uintBE",e),q("uintBE("+e+")",e).map(function(t){return t.readUIntBE(0,e)})}function oe(e){return ne("uintLE",e),q("uintLE("+e+")",e).map(function(t){return t.readUIntLE(0,e)})}function ue(e){return ne("intBE",e),q("intBE("+e+")",e).map(function(t){return t.readIntBE(0,e)})}function ae(e){return ne("intLE",e),q("intLE("+e+")",e).map(function(t){return t.readIntLE(0,e)})}function Y(e){return e instanceof o}function R(e){return{}.toString.call(e)==="[object Array]"}function Z(e){return p()&&Buffer.isBuffer(e)}function y(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function L(e,t){return R(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function _(e,t){if(!t||e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(r,u){if(function(){if(o._supportsSet!==void 0)return o._supportsSet;var W=typeof Set!="undefined";return o._supportsSet=W,W}()&&Array.from){for(var a=new Set(r),i=0;i<u.length;i++)a.add(u[i]);var l=Array.from(a);return l.sort(),l}for(var m={},B=0;B<r.length;B++)m[r[B]]=!0;for(var w=0;w<u.length;w++)m[u[w]]=!0;var I=[];for(var S in m)({}).hasOwnProperty.call(m,S)&&I.push(S);return I.sort(),I}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}var ie={};function xe(e,t){if(Z(e))return{offset:t,line:-1,column:-1};e in ie||(ie[e]={});for(var n=ie[e],r=0,u=0,a=0,i=t;i>=0;){if(i in n){r=n[i].line,a===0&&(a=n[i].lineStart);break}(e.charAt(i)===`
`||e.charAt(i)==="\r"&&e.charAt(i+1)!==`
`)&&(u++,a===0&&(a=i+1)),i--}var l=r+u,m=t-a;return n[t]={line:l,lineStart:a},{offset:t,line:l+1,column:m+1}}function U(e){if(!Y(e))throw new Error("not a parser: "+e)}function se(e,t){return typeof e=="string"?e.charAt(t):e[t]}function V(e){if(typeof e!="number")throw new Error("not a number: "+e)}function C(e){if(typeof e!="function")throw new Error("not a function: "+e)}function $(e){if(typeof e!="string")throw new Error("not a string: "+e)}var We=2,Me=3,z=8,ze=5*z,Ce=4*z,we="  ";function ce(e,t){return new Array(t+1).join(e)}function fe(e,t,n){var r=t-e.length;return r<=0?e:ce(n,r)+e}function Ee(e,t,n,r){return{from:e-t>0?e-t:0,to:e+n>r?r:e+n}}function Fe(e,t){var n,r,u,a,i,l=t.index,m=l.offset,B=1;if(m===e.length)return"Got the end of the input";if(Z(e)){var w=m-m%z,I=m-w,S=Ee(w,ze,Ce+z,e.length),W=d(function(x){return d(function(T){return fe(T.toString(16),2,"0")},x)},function(x,T){var H=x.length,N=[],J=0;if(H<=T)return[x.slice()];for(var K=0;K<H;K++)N[J]||N.push([]),N[J].push(x[K]),(K+1)%T==0&&J++;return N}(e.slice(S.from,S.to).toJSON().data,z));a=function(x){return x.from===0&&x.to===1?{from:x.from,to:x.to}:{from:x.from/z,to:Math.floor(x.to/z)}}(S),r=w/z,n=3*I,I>=4&&(n+=1),B=2,u=d(function(x){return x.length<=4?x.join(" "):x.slice(0,4).join(" ")+"  "+x.slice(4).join(" ")},W),(i=(8*(a.to>0?a.to-1:a.to)).toString(16).length)<2&&(i=2)}else{var D=e.split(/\r\n|[\n\r\u2028\u2029]/);n=l.column-1,r=l.line-1,a=Ee(r,We,Me,D.length),u=D.slice(a.from,a.to),i=a.to.toString().length}var Ke=r-a.from;return Z(e)&&(i=(8*(a.to>0?a.to-1:a.to)).toString(16).length)<2&&(i=2),h(function(x,T,H){var N,J=H===Ke,K=J?"> ":we;return N=Z(e)?fe((8*(a.from+H)).toString(16),i,"0"):fe((a.from+H+1).toString(),i," "),[].concat(x,[K+N+" | "+T],J?[we+ce(" ",i)+" | "+fe("",n," ")+ce("^",B)]:[])},[],u).join(`
`)}function Be(e,t){return[`
`,"-- PARSING FAILED "+ce("-",50),`

`,Fe(e,t),`

`,(n=t.expected,n.length===1?`Expected:

`+n[0]:`Expected one of the following: 

`+n.join(", ")),`
`].join("");var n}function Le(e){return e.flags!==void 0?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function le(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)U(e[n]);return o(function(r,u){for(var a,i=new Array(t),l=0;l<t;l+=1){if(!(a=_(e[l]._(r,u),a)).status)return a;i[l]=a.value,u=a.index}return _(y(u,i),a)})}function F(){var e=[].slice.call(arguments);if(e.length===0)throw new Error("seqMap needs at least one argument");var t=e.pop();return C(t),le.apply(null,e).map(function(n){return t.apply(null,n)})}function pe(){var e=[].slice.call(arguments),t=e.length;if(t===0)return he("zero alternates");for(var n=0;n<t;n+=1)U(e[n]);return o(function(r,u){for(var a,i=0;i<e.length;i+=1)if((a=_(e[i]._(r,u),a)).status)return a;return a})}function Se(e,t){return ge(e,t).or(G([]))}function ge(e,t){return U(e),U(t),F(e,t.then(e).many(),function(n,r){return[n].concat(r)})}function ee(e){$(e);var t="'"+e+"'";return o(function(n,r){var u=r+e.length,a=n.slice(r,u);return a===e?y(u,a):L(r,t)})}function P(e,t){(function(u){if(!(u instanceof RegExp))throw new Error("not a regexp: "+u);for(var a=Le(u),i=0;i<a.length;i++){var l=a.charAt(i);if(l!=="i"&&l!=="m"&&l!=="u"&&l!=="s")throw new Error('unsupported regexp flag "'+l+'": '+u)}})(e),arguments.length>=2?V(t):t=0;var n=function(u){return RegExp("^(?:"+u.source+")",Le(u))}(e),r=""+e;return o(function(u,a){var i=n.exec(u.slice(a));if(i){if(0<=t&&t<=i.length){var l=i[0],m=i[t];return y(a+l.length,m)}return L(a,"valid match group (0 to "+i.length+") in "+r)}return L(a,r)})}function G(e){return o(function(t,n){return y(n,e)})}function he(e){return o(function(t,n){return L(n,e)})}function de(e){if(Y(e))return o(function(t,n){var r=e._(t,n);return r.index=n,r.value="",r});if(typeof e=="string")return de(ee(e));if(e instanceof RegExp)return de(P(e));throw new Error("not a string, regexp, or parser: "+e)}function qe(e){return U(e),o(function(t,n){var r=e._(t,n),u=t.slice(n,r.index);return r.status?L(n,'not "'+u+'"'):y(n,null)})}function me(e){return C(e),o(function(t,n){var r=se(t,n);return n<t.length&&e(r)?y(n+1,r):L(n,"a character/byte matching "+e)})}function _e(e,t){arguments.length<2&&(t=e,e=void 0);var n=o(function(r,u){return n._=t()._,n._(r,u)});return e?n.desc(e):n}function be(){return he("fantasy-land/empty")}c.parse=function(e){if(typeof e!="string"&&!Z(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t,n=this.skip(ye)._(e,0);return t=n.status?{status:!0,value:n.value}:{status:!1,index:xe(e,n.furthest),expected:n.expected},delete ie[e],t},c.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=Be(e,t),r=new Error(n);throw r.type="ParsimmonError",r.result=t,r},c.assert=function(e,t){return this.chain(function(n){return e(n)?G(n):he(t)})},c.or=function(e){return pe(this,e)},c.trim=function(e){return this.wrap(e,e)},c.wrap=function(e,t){return F(e,this,t,function(n,r){return r})},c.thru=function(e){return e(this)},c.then=function(e){return U(e),le(this,e).map(function(t){return t[1]})},c.many=function(){var e=this;return o(function(t,n){for(var r=[],u=void 0;;){if(!(u=_(e._(t,n),u)).status)return _(y(n,r),u);if(n===u.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=u.index,r.push(u.value)}})},c.tieWith=function(e){return $(e),this.map(function(t){if(function(u){if(!R(u))throw new Error("not an array: "+u)}(t),t.length){$(t[0]);for(var n=t[0],r=1;r<t.length;r++)$(t[r]),n+=e+t[r];return n}return""})},c.tie=function(){return this.tieWith("")},c.times=function(e,t){var n=this;return arguments.length<2&&(t=e),V(e),V(t),o(function(r,u){for(var a=[],i=void 0,l=void 0,m=0;m<e;m+=1){if(l=_(i=n._(r,u),l),!i.status)return l;u=i.index,a.push(i.value)}for(;m<t&&(l=_(i=n._(r,u),l),i.status);m+=1)u=i.index,a.push(i.value);return _(y(u,a),l)})},c.result=function(e){return this.map(function(){return e})},c.atMost=function(e){return this.times(0,e)},c.atLeast=function(e){return F(this.times(e),this.many(),function(t,n){return t.concat(n)})},c.map=function(e){C(e);var t=this;return o(function(n,r){var u=t._(n,r);return u.status?_(y(u.index,e(u.value)),u):u})},c.contramap=function(e){C(e);var t=this;return o(function(n,r){var u=t.parse(e(n.slice(r)));return u.status?y(r+n.length,u.value):u})},c.promap=function(e,t){return C(e),C(t),this.contramap(e).map(t)},c.skip=function(e){return le(this,e).map(function(t){return t[0]})},c.mark=function(){return F(te,this,te,function(e,t,n){return{start:e,value:t,end:n}})},c.node=function(e){return F(te,this,te,function(t,n,r){return{name:e,value:n,start:t,end:r}})},c.sepBy=function(e){return Se(this,e)},c.sepBy1=function(e){return ge(this,e)},c.lookahead=function(e){return this.skip(de(e))},c.notFollowedBy=function(e){return this.skip(qe(e))},c.desc=function(e){R(e)||(e=[e]);var t=this;return o(function(n,r){var u=t._(n,r);return u.status||(u.expected=e),u})},c.fallback=function(e){return this.or(G(e))},c.ap=function(e){return F(e,this,function(t,n){return t(n)})},c.chain=function(e){var t=this;return o(function(n,r){var u=t._(n,r);return u.status?_(e(u.value)._(n,u.index),u):u})},c.concat=c.or,c.empty=be,c.of=G,c["fantasy-land/ap"]=c.ap,c["fantasy-land/chain"]=c.chain,c["fantasy-land/concat"]=c.concat,c["fantasy-land/empty"]=c.empty,c["fantasy-land/of"]=c.of,c["fantasy-land/map"]=c.map;var te=o(function(e,t){return y(t,xe(e,t))}),Ge=o(function(e,t){return t>=e.length?L(t,"any character/byte"):y(t+1,se(e,t))}),Ne=o(function(e,t){return y(e.length,e.slice(t))}),ye=o(function(e,t){return t<e.length?L(t,"EOF"):y(t,null)}),Re=P(/[0-9]/).desc("a digit"),Ue=P(/[0-9]*/).desc("optional digits"),Ve=P(/[a-z]/i).desc("a letter"),De=P(/[a-z]*/i).desc("optional letters"),Te=P(/\s*/).desc("optional whitespace"),He=P(/\s+/).desc("whitespace"),ke=ee("\r"),je=ee(`
`),Oe=ee(`\r
`),Ae=pe(Oe,je,ke).desc("newline"),Je=pe(Ae,ye);o.all=Ne,o.alt=pe,o.any=Ge,o.cr=ke,o.createLanguage=function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&function(r){t[r]=_e(function(){return e[r](t)})}(n);return t},o.crlf=Oe,o.custom=function(e){return o(e(y,L))},o.digit=Re,o.digits=Ue,o.empty=be,o.end=Je,o.eof=ye,o.fail=he,o.formatError=Be,o.index=te,o.isParser=Y,o.lazy=_e,o.letter=Ve,o.letters=De,o.lf=je,o.lookahead=de,o.makeFailure=L,o.makeSuccess=y,o.newline=Ae,o.noneOf=function(e){return me(function(t){return e.indexOf(t)<0}).desc("none of '"+e+"'")},o.notFollowedBy=qe,o.of=G,o.oneOf=function(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return me(function(r){return e.indexOf(r)>=0}).desc(t)},o.optWhitespace=Te,o.Parser=o,o.range=function(e,t){return me(function(n){return e<=n&&n<=t}).desc(e+"-"+t)},o.regex=P,o.regexp=P,o.sepBy=Se,o.sepBy1=ge,o.seq=le,o.seqMap=F,o.seqObj=function(){for(var e,t={},n=0,r=(e=arguments,Array.prototype.slice.call(e)),u=r.length,a=0;a<u;a+=1){var i=r[a];if(!Y(i)){if(R(i)&&i.length===2&&typeof i[0]=="string"&&Y(i[1])){var l=i[0];if(Object.prototype.hasOwnProperty.call(t,l))throw new Error("seqObj: duplicate key "+l);t[l]=!0,n++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(n===0)throw new Error("seqObj expects at least one named parser, found zero");return o(function(m,B){for(var w,I={},S=0;S<u;S+=1){var W,D;if(R(r[S])?(W=r[S][0],D=r[S][1]):(W=null,D=r[S]),!(w=_(D._(m,B),w)).status)return w;W&&(I[W]=w.value),B=w.index}return _(y(B,I),w)})},o.string=ee,o.succeed=G,o.takeWhile=function(e){return C(e),o(function(t,n){for(var r=n;r<t.length&&e(se(t,r));)r++;return y(r,t.slice(n,r))})},o.test=me,o.whitespace=He,o["fantasy-land/empty"]=be,o["fantasy-land/of"]=G,o.Binary={bitSeq:ve,bitSeqObj:function(e){g();var t={},n=0,r=d(function(a){if(R(a)){var i=a;if(i.length!==2)throw new Error("["+i.join(", ")+"] should be length 2, got length "+i.length);if($(i[0]),V(i[1]),Object.prototype.hasOwnProperty.call(t,i[0]))throw new Error("duplicate key in bitSeqObj: "+i[0]);return t[i[0]]=!0,n++,i}return V(a),[null,a]},e);if(n<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var u=d(function(a){return a[0]},r);return ve(d(function(a){return a[1]},r)).map(function(a){return h(function(i,l){return l[0]!==null&&(i[l[0]]=l[1]),i},{},d(function(i,l){return[i,a[l]]},u))})},byte:function(e){if(g(),V(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var t=(e>15?"0x":"0x0")+e.toString(16);return o(function(n,r){var u=se(n,r);return u===e?y(r+1,u):L(r,t)})},buffer:function(e){return q("buffer",e).map(function(t){return Buffer.from(t)})},encodedString:function(e,t){return q("string",t).map(function(n){return n.toString(e)})},uintBE:re,uint8BE:re(1),uint16BE:re(2),uint32BE:re(4),uintLE:oe,uint8LE:oe(1),uint16LE:oe(2),uint32LE:oe(4),intBE:ue,int8BE:ue(1),int16BE:ue(2),int32BE:ue(4),intLE:ae,int8LE:ae(1),int16LE:ae(2),int32LE:ae(4),floatBE:q("floatBE",4).map(function(e){return e.readFloatBE(0)}),floatLE:q("floatLE",4).map(function(e){return e.readFloatLE(0)}),doubleBE:q("doubleBE",8).map(function(e){return e.readDoubleBE(0)}),doubleLE:q("doubleLE",8).map(function(e){return e.readDoubleLE(0)})},A.exports=o}])})})(f),(X=>{onmessage=b=>postMessage(X(b.data))})(({program:X})=>{const b=(...s)=>f.exports.alt(...s.map(h=>f.exports.string(h))).trim(f.exports.regexp(/[^\S\n]*/)),A=s=>s[1],E=new Set(["skip","if","then","else","while","do","not","and","or","true","false"]),c=f.exports.createLanguage({separator:()=>f.exports.regexp(/([^\S\n]*[;\n])+[^\S\n]*/),variable:()=>f.exports.regexp(/[a-z_]+/).assert(s=>!E.has(s),"Reserved keywords cannot be used as variable."),program:s=>s.block.trim(f.exports.optWhitespace),block:s=>f.exports.alt(s.statementSequence,f.exports.seq(b("("),s.statementSequence,b(")")).map(A)),statement:s=>f.exports.alt(s.statementSkip,s.statementAssign,s.statementIf,s.statementWhile),statementSkip:()=>f.exports.seq(f.exports.string("skip"),f.exports.index).map(([s,h])=>O({type:s,label:0},h)),statementAssign:s=>f.exports.seq(s.variable,b(":="),s.numeric,f.exports.index).map(([h,d,v,p])=>O({type:"assign",label:0,variable:h,expression:v},p)),statementIf:s=>f.exports.seq(b("if"),s.boolean,f.exports.index,b("then"),s.block,b("else"),s.block).map(([h,d,v,p,g,ve,q])=>O({type:"if",label:0,condition:d,ifBody:g,elseBody:q},v)),statementWhile:s=>f.exports.seq(b("while"),s.boolean,f.exports.index,b("do"),s.block).map(([h,d,v,p,g])=>O({type:"while",label:0,condition:d,body:g},v)),statementSequence:s=>f.exports.sepBy1(s.statement,s.separator.atLeast(1)).trim(s.separator.many()).map(h=>({type:"seq",statements:h})),numeric:s=>s.numericLevel1,numericLevel1:s=>f.exports.seq(s.numericLevel2,f.exports.seq(b("+","-"),s.numericLevel2).many()).map(([h,d])=>d.reduce((v,[p,g])=>({type:p,left:v,right:g}),h)),numericLevel2:s=>f.exports.seq(s.numericLevel3,f.exports.seq(b("*","/"),s.numericLevel3).many()).map(([h,d])=>d.reduce((v,[p,g])=>({type:p,left:v,right:g}),h)),numericLevel3:s=>f.exports.alt(s.numericConstant,s.numericVariable,s.numericGroup),numericConstant:()=>f.exports.regex(/-?[0-9]+/).map(Number).map(s=>({type:"n",value:s})),numericVariable:s=>s.variable.map(h=>({type:"var",name:h})),numericGroup:s=>f.exports.seq(b("("),s.numeric,b(")")).map(A),boolean:s=>s.booleanLevel1,booleanLevel1:s=>f.exports.seq(s.booleanLevel2,f.exports.seq(b("or"),s.booleanLevel2).many()).map(([h,d])=>d.reduce((v,[p,g])=>({type:p,left:v,right:g}),h)),booleanLevel2:s=>f.exports.seq(s.booleanLevel3,f.exports.seq(b("and"),s.booleanLevel3).many()).map(([h,d])=>d.reduce((v,[p,g])=>({type:p,left:v,right:g}),h)),booleanLevel3:s=>f.exports.alt(s.booleanConstant,s.booleanComparison,s.booleanGroup,s.booleanNegation),booleanConstant:()=>f.exports.alt(f.exports.string("true"),f.exports.string("false")).map(s=>({type:s})),booleanComparison:s=>f.exports.seq(s.numeric,b("<=",">=","==","!=","<",">"),s.numeric).map(([h,d,v])=>({type:d,left:h,right:v})),booleanGroup:s=>f.exports.seq(b("("),s.boolean,b(")")).map(A),booleanNegation:s=>f.exports.seq(b("not"),s.boolean).map(([h,d])=>({type:h,value:d}))}).program.parse(X);if(c.status){const s=new Array,h=new Set,d=p=>{switch(p.type){case"true":case"false":case"n":break;case"var":h.add(p.name);break;case"not":d(p.value);break;case"+":case"-":case"*":case"/":case"<":case">":case"<=":case">=":case"==":case"!=":case"or":case"and":d(p.right),d(p.left);break}},v=p=>{if(p.type==="seq")return Q(O({},p),{statements:p.statements.map(v)});const g=s.length+1;switch(s.push({text:g.toString(),position:{lineNumber:p.line,column:p.column},kind:0}),p.type){case"skip":return Q(O({},p),{label:g});case"assign":return h.add(p.variable),d(p.expression),Q(O({},p),{label:g});case"if":return d(p.condition),Q(O({},p),{label:g,ifBody:v(p.ifBody),elseBody:v(p.elseBody)});case"while":return d(p.condition),Q(O({},p),{label:g,body:v(p.body)})}};return{succeeded:!0,program:v(c.value),inlayHints:s,variables:[...h]}}else return O({succeeded:!1,expected:c.expected},c.index)})})();
