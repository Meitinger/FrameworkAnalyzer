var Qe=Object.defineProperty,Xe=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var Pe=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Ie=(q,c,_)=>c in q?Qe(q,c,{enumerable:!0,configurable:!0,writable:!0,value:_}):q[c]=_,k=(q,c)=>{for(var _ in c||(c={}))Ze.call(c,_)&&Ie(q,_,c[_]);if(Pe)for(var _ of Pe(c))$e.call(c,_)&&Ie(q,_,c[_]);return q},K=(q,c)=>Xe(q,Ye(c));(function(){"use strict";var q=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},c={exports:{}};(function(Q,v){(function(O,W){Q.exports=W()})(typeof self!="undefined"?self:q,function(){return function(O){var W={};function E(u){if(W[u])return W[u].exports;var r=W[u]={i:u,l:!1,exports:{}};return O[u].call(r.exports,r,r.exports,E),r.l=!0,r.exports}return E.m=O,E.c=W,E.d=function(u,r,p){E.o(u,r)||Object.defineProperty(u,r,{configurable:!1,enumerable:!0,get:p})},E.r=function(u){Object.defineProperty(u,"__esModule",{value:!0})},E.n=function(u){var r=u&&u.__esModule?function(){return u.default}:function(){return u};return E.d(r,"a",r),r},E.o=function(u,r){return Object.prototype.hasOwnProperty.call(u,r)},E.p="",E(E.s=0)}([function(O,W,E){function u(e){if(!(this instanceof u))return new u(e);this._=e}var r=u.prototype;function p(e,t){for(var n=0;n<e;n++)t(n)}function h(e,t,n){return function(o,i){p(i.length,function(a){o(i[a],a,i)})}(function(o,i,a){t=e(t,o,i,a)},n),t}function d(e,t){return h(function(n,o,i,a){return n.concat([e(o,i,a)])},[],t)}function l(e,t){var n={v:0,buf:t};return p(e,function(){var o;n={v:n.v<<1|(o=n.buf,o[0]>>7),buf:function(i){var a=h(function(s,f,m,w){return s.concat(m===w.length-1?Buffer.from([f,0]).readUInt16BE(0):w.readUInt16BE(m))},[],i);return Buffer.from(d(function(s){return(s<<1&65535)>>8},a))}(n.buf)}}),n}function b(){return typeof Buffer!="undefined"}function X(){if(!b())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function ne(e){X();var t=h(function(a,s){return a+s},0,e);if(t%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+t+" which is not an even number of bytes; the total should be divisible by 8");var n,o=t/8,i=(n=function(a){return a>48},h(function(a,s){return a||(n(s)?s:a)},null,e));if(i)throw new Error(i+" bit range requested exceeds 48 bit (6 byte) Number max.");return new u(function(a,s){var f=o+s;return f>a.length?B(s,o.toString()+" bytes"):g(f,h(function(m,w){var x=l(w,m.buf);return{coll:m.coll.concat(x.v),buf:x.buf}},{coll:[],buf:a.slice(s,f)},e).coll)})}function j(e,t){return new u(function(n,o){return X(),o+t>n.length?B(o,t+" bytes for "+e):g(o+t,n.slice(o,o+t))})}function re(e,t){if(typeof(n=t)!="number"||Math.floor(n)!==n||t<0||t>6)throw new Error(e+" requires integer length in range [0, 6].");var n}function oe(e){return re("uintBE",e),j("uintBE("+e+")",e).map(function(t){return t.readUIntBE(0,e)})}function ue(e){return re("uintLE",e),j("uintLE("+e+")",e).map(function(t){return t.readUIntLE(0,e)})}function ie(e){return re("intBE",e),j("intBE("+e+")",e).map(function(t){return t.readIntBE(0,e)})}function ae(e){return re("intLE",e),j("intLE("+e+")",e).map(function(t){return t.readIntLE(0,e)})}function Y(e){return e instanceof u}function N(e){return{}.toString.call(e)==="[object Array]"}function Z(e){return b()&&Buffer.isBuffer(e)}function g(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function B(e,t){return N(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function S(e,t){if(!t||e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(o,i){if(function(){if(u._supportsSet!==void 0)return u._supportsSet;var I=typeof Set!="undefined";return u._supportsSet=I,I}()&&Array.from){for(var a=new Set(o),s=0;s<i.length;s++)a.add(i[s]);var f=Array.from(a);return f.sort(),f}for(var m={},w=0;w<o.length;w++)m[o[w]]=!0;for(var x=0;x<i.length;x++)m[i[x]]=!0;var P=[];for(var L in m)({}).hasOwnProperty.call(m,L)&&P.push(L);return P.sort(),P}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}var se={};function xe(e,t){if(Z(e))return{offset:t,line:-1,column:-1};e in se||(se[e]={});for(var n=se[e],o=0,i=0,a=0,s=t;s>=0;){if(s in n){o=n[s].line,a===0&&(a=n[s].lineStart);break}(e.charAt(s)===`
`||e.charAt(s)==="\r"&&e.charAt(s+1)!==`
`)&&(i++,a===0&&(a=s+1)),s--}var f=o+i,m=t-a;return n[t]={line:f,lineStart:a},{offset:t,line:f+1,column:m+1}}function R(e){if(!Y(e))throw new Error("not a parser: "+e)}function ce(e,t){return typeof e=="string"?e.charAt(t):e[t]}function U(e){if(typeof e!="number")throw new Error("not a number: "+e)}function z(e){if(typeof e!="function")throw new Error("not a function: "+e)}function $(e){if(typeof e!="string")throw new Error("not a string: "+e)}var We=2,Me=3,M=8,ze=5*M,Ce=4*M,we="  ";function fe(e,t){return new Array(t+1).join(e)}function le(e,t,n){var o=t-e.length;return o<=0?e:fe(n,o)+e}function Ee(e,t,n,o){return{from:e-t>0?e-t:0,to:e+n>o?o:e+n}}function Fe(e,t){var n,o,i,a,s,f=t.index,m=f.offset,w=1;if(m===e.length)return"Got the end of the input";if(Z(e)){var x=m-m%M,P=m-x,L=Ee(x,ze,Ce+M,e.length),I=d(function(y){return d(function(D){return le(D.toString(16),2,"0")},y)},function(y,D){var T=y.length,G=[],H=0;if(T<=D)return[y.slice()];for(var J=0;J<T;J++)G[H]||G.push([]),G[H].push(y[J]),(J+1)%D==0&&H++;return G}(e.slice(L.from,L.to).toJSON().data,M));a=function(y){return y.from===0&&y.to===1?{from:y.from,to:y.to}:{from:y.from/M,to:Math.floor(y.to/M)}}(L),o=x/M,n=3*P,P>=4&&(n+=1),w=2,i=d(function(y){return y.length<=4?y.join(" "):y.slice(0,4).join(" ")+"  "+y.slice(4).join(" ")},I),(s=(8*(a.to>0?a.to-1:a.to)).toString(16).length)<2&&(s=2)}else{var V=e.split(/\r\n|[\n\r\u2028\u2029]/);n=f.column-1,o=f.line-1,a=Ee(o,We,Me,V.length),i=V.slice(a.from,a.to),s=a.to.toString().length}var Ke=o-a.from;return Z(e)&&(s=(8*(a.to>0?a.to-1:a.to)).toString(16).length)<2&&(s=2),h(function(y,D,T){var G,H=T===Ke,J=H?"> ":we;return G=Z(e)?le((8*(a.from+T)).toString(16),s,"0"):le((a.from+T+1).toString(),s," "),[].concat(y,[J+G+" | "+D],H?[we+fe(" ",s)+" | "+le("",n," ")+fe("^",w)]:[])},[],i).join(`
`)}function Be(e,t){return[`
`,"-- PARSING FAILED "+fe("-",50),`

`,Fe(e,t),`

`,(n=t.expected,n.length===1?`Expected:

`+n[0]:`Expected one of the following: 

`+n.join(", ")),`
`].join("");var n}function Le(e){return e.flags!==void 0?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function pe(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)R(e[n]);return u(function(o,i){for(var a,s=new Array(t),f=0;f<t;f+=1){if(!(a=S(e[f]._(o,i),a)).status)return a;s[f]=a.value,i=a.index}return S(g(i,s),a)})}function C(){var e=[].slice.call(arguments);if(e.length===0)throw new Error("seqMap needs at least one argument");var t=e.pop();return z(t),pe.apply(null,e).map(function(n){return t.apply(null,n)})}function he(){var e=[].slice.call(arguments),t=e.length;if(t===0)return de("zero alternates");for(var n=0;n<t;n+=1)R(e[n]);return u(function(o,i){for(var a,s=0;s<e.length;s+=1)if((a=S(e[s]._(o,i),a)).status)return a;return a})}function Se(e,t){return ge(e,t).or(F([]))}function ge(e,t){return R(e),R(t),C(e,t.then(e).many(),function(n,o){return[n].concat(o)})}function ee(e){$(e);var t="'"+e+"'";return u(function(n,o){var i=o+e.length,a=n.slice(o,i);return a===e?g(i,a):B(o,t)})}function A(e,t){(function(i){if(!(i instanceof RegExp))throw new Error("not a regexp: "+i);for(var a=Le(i),s=0;s<a.length;s++){var f=a.charAt(s);if(f!=="i"&&f!=="m"&&f!=="u"&&f!=="s")throw new Error('unsupported regexp flag "'+f+'": '+i)}})(e),arguments.length>=2?U(t):t=0;var n=function(i){return RegExp("^(?:"+i.source+")",Le(i))}(e),o=""+e;return u(function(i,a){var s=n.exec(i.slice(a));if(s){if(0<=t&&t<=s.length){var f=s[0],m=s[t];return g(a+f.length,m)}return B(a,"valid match group (0 to "+s.length+") in "+o)}return B(a,o)})}function F(e){return u(function(t,n){return g(n,e)})}function de(e){return u(function(t,n){return B(n,e)})}function me(e){if(Y(e))return u(function(t,n){var o=e._(t,n);return o.index=n,o.value="",o});if(typeof e=="string")return me(ee(e));if(e instanceof RegExp)return me(A(e));throw new Error("not a string, regexp, or parser: "+e)}function qe(e){return R(e),u(function(t,n){var o=e._(t,n),i=t.slice(n,o.index);return o.status?B(n,'not "'+i+'"'):g(n,null)})}function ve(e){return z(e),u(function(t,n){var o=ce(t,n);return n<t.length&&e(o)?g(n+1,o):B(n,"a character/byte matching "+e)})}function _e(e,t){arguments.length<2&&(t=e,e=void 0);var n=u(function(o,i){return n._=t()._,n._(o,i)});return e?n.desc(e):n}function be(){return de("fantasy-land/empty")}r.parse=function(e){if(typeof e!="string"&&!Z(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t,n=this.skip(ye)._(e,0);return t=n.status?{status:!0,value:n.value}:{status:!1,index:xe(e,n.furthest),expected:n.expected},delete se[e],t},r.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=Be(e,t),o=new Error(n);throw o.type="ParsimmonError",o.result=t,o},r.assert=function(e,t){return this.chain(function(n){return e(n)?F(n):de(t)})},r.or=function(e){return he(this,e)},r.trim=function(e){return this.wrap(e,e)},r.wrap=function(e,t){return C(e,this,t,function(n,o){return o})},r.thru=function(e){return e(this)},r.then=function(e){return R(e),pe(this,e).map(function(t){return t[1]})},r.many=function(){var e=this;return u(function(t,n){for(var o=[],i=void 0;;){if(!(i=S(e._(t,n),i)).status)return S(g(n,o),i);if(n===i.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=i.index,o.push(i.value)}})},r.tieWith=function(e){return $(e),this.map(function(t){if(function(i){if(!N(i))throw new Error("not an array: "+i)}(t),t.length){$(t[0]);for(var n=t[0],o=1;o<t.length;o++)$(t[o]),n+=e+t[o];return n}return""})},r.tie=function(){return this.tieWith("")},r.times=function(e,t){var n=this;return arguments.length<2&&(t=e),U(e),U(t),u(function(o,i){for(var a=[],s=void 0,f=void 0,m=0;m<e;m+=1){if(f=S(s=n._(o,i),f),!s.status)return f;i=s.index,a.push(s.value)}for(;m<t&&(f=S(s=n._(o,i),f),s.status);m+=1)i=s.index,a.push(s.value);return S(g(i,a),f)})},r.result=function(e){return this.map(function(){return e})},r.atMost=function(e){return this.times(0,e)},r.atLeast=function(e){return C(this.times(e),this.many(),function(t,n){return t.concat(n)})},r.map=function(e){z(e);var t=this;return u(function(n,o){var i=t._(n,o);return i.status?S(g(i.index,e(i.value)),i):i})},r.contramap=function(e){z(e);var t=this;return u(function(n,o){var i=t.parse(e(n.slice(o)));return i.status?g(o+n.length,i.value):i})},r.promap=function(e,t){return z(e),z(t),this.contramap(e).map(t)},r.skip=function(e){return pe(this,e).map(function(t){return t[0]})},r.mark=function(){return C(te,this,te,function(e,t,n){return{start:e,value:t,end:n}})},r.node=function(e){return C(te,this,te,function(t,n,o){return{name:e,value:n,start:t,end:o}})},r.sepBy=function(e){return Se(this,e)},r.sepBy1=function(e){return ge(this,e)},r.lookahead=function(e){return this.skip(me(e))},r.notFollowedBy=function(e){return this.skip(qe(e))},r.desc=function(e){N(e)||(e=[e]);var t=this;return u(function(n,o){var i=t._(n,o);return i.status||(i.expected=e),i})},r.fallback=function(e){return this.or(F(e))},r.ap=function(e){return C(e,this,function(t,n){return t(n)})},r.chain=function(e){var t=this;return u(function(n,o){var i=t._(n,o);return i.status?S(e(i.value)._(n,i.index),i):i})},r.concat=r.or,r.empty=be,r.of=F,r["fantasy-land/ap"]=r.ap,r["fantasy-land/chain"]=r.chain,r["fantasy-land/concat"]=r.concat,r["fantasy-land/empty"]=r.empty,r["fantasy-land/of"]=r.of,r["fantasy-land/map"]=r.map;var te=u(function(e,t){return g(t,xe(e,t))}),Ge=u(function(e,t){return t>=e.length?B(t,"any character/byte"):g(t+1,ce(e,t))}),Ne=u(function(e,t){return g(e.length,e.slice(t))}),ye=u(function(e,t){return t<e.length?B(t,"EOF"):g(t,null)}),Re=A(/[0-9]/).desc("a digit"),Ue=A(/[0-9]*/).desc("optional digits"),Ve=A(/[a-z]/i).desc("a letter"),De=A(/[a-z]*/i).desc("optional letters"),Te=A(/\s*/).desc("optional whitespace"),He=A(/\s+/).desc("whitespace"),ke=ee("\r"),je=ee(`
`),Oe=ee(`\r
`),Ae=he(Oe,je,ke).desc("newline"),Je=he(Ae,ye);u.all=Ne,u.alt=he,u.any=Ge,u.cr=ke,u.createLanguage=function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&function(o){t[o]=_e(function(){return e[o](t)})}(n);return t},u.crlf=Oe,u.custom=function(e){return u(e(g,B))},u.digit=Re,u.digits=Ue,u.empty=be,u.end=Je,u.eof=ye,u.fail=de,u.formatError=Be,u.index=te,u.isParser=Y,u.lazy=_e,u.letter=Ve,u.letters=De,u.lf=je,u.lookahead=me,u.makeFailure=B,u.makeSuccess=g,u.newline=Ae,u.noneOf=function(e){return ve(function(t){return e.indexOf(t)<0}).desc("none of '"+e+"'")},u.notFollowedBy=qe,u.of=F,u.oneOf=function(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return ve(function(o){return e.indexOf(o)>=0}).desc(t)},u.optWhitespace=Te,u.Parser=u,u.range=function(e,t){return ve(function(n){return e<=n&&n<=t}).desc(e+"-"+t)},u.regex=A,u.regexp=A,u.sepBy=Se,u.sepBy1=ge,u.seq=pe,u.seqMap=C,u.seqObj=function(){for(var e,t={},n=0,o=(e=arguments,Array.prototype.slice.call(e)),i=o.length,a=0;a<i;a+=1){var s=o[a];if(!Y(s)){if(N(s)&&s.length===2&&typeof s[0]=="string"&&Y(s[1])){var f=s[0];if(Object.prototype.hasOwnProperty.call(t,f))throw new Error("seqObj: duplicate key "+f);t[f]=!0,n++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(n===0)throw new Error("seqObj expects at least one named parser, found zero");return u(function(m,w){for(var x,P={},L=0;L<i;L+=1){var I,V;if(N(o[L])?(I=o[L][0],V=o[L][1]):(I=null,V=o[L]),!(x=S(V._(m,w),x)).status)return x;I&&(P[I]=x.value),w=x.index}return S(g(w,P),x)})},u.string=ee,u.succeed=F,u.takeWhile=function(e){return z(e),u(function(t,n){for(var o=n;o<t.length&&e(ce(t,o));)o++;return g(o,t.slice(n,o))})},u.test=ve,u.whitespace=He,u["fantasy-land/empty"]=be,u["fantasy-land/of"]=F,u.Binary={bitSeq:ne,bitSeqObj:function(e){X();var t={},n=0,o=d(function(a){if(N(a)){var s=a;if(s.length!==2)throw new Error("["+s.join(", ")+"] should be length 2, got length "+s.length);if($(s[0]),U(s[1]),Object.prototype.hasOwnProperty.call(t,s[0]))throw new Error("duplicate key in bitSeqObj: "+s[0]);return t[s[0]]=!0,n++,s}return U(a),[null,a]},e);if(n<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var i=d(function(a){return a[0]},o);return ne(d(function(a){return a[1]},o)).map(function(a){return h(function(s,f){return f[0]!==null&&(s[f[0]]=f[1]),s},{},d(function(s,f){return[s,a[f]]},i))})},byte:function(e){if(X(),U(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var t=(e>15?"0x":"0x0")+e.toString(16);return u(function(n,o){var i=ce(n,o);return i===e?g(o+1,i):B(o,t)})},buffer:function(e){return j("buffer",e).map(function(t){return Buffer.from(t)})},encodedString:function(e,t){return j("string",t).map(function(n){return n.toString(e)})},uintBE:oe,uint8BE:oe(1),uint16BE:oe(2),uint32BE:oe(4),uintLE:ue,uint8LE:ue(1),uint16LE:ue(2),uint32LE:ue(4),intBE:ie,int8BE:ie(1),int16BE:ie(2),int32BE:ie(4),intLE:ae,int8LE:ae(1),int16LE:ae(2),int32LE:ae(4),floatBE:j("floatBE",4).map(function(e){return e.readFloatBE(0)}),floatLE:j("floatLE",4).map(function(e){return e.readFloatLE(0)}),doubleBE:j("doubleBE",8).map(function(e){return e.readDoubleBE(0)}),doubleLE:j("doubleLE",8).map(function(e){return e.readDoubleLE(0)})},O.exports=u}])})})(c),(Q=>{onmessage=v=>postMessage(Q(v.data))})(({program:Q})=>{const v=(...r)=>c.exports.alt(...r.map(p=>c.exports.string(p))).trim(c.exports.regexp(/[^\S\n]*/)),O=r=>r[1],u=c.exports.createLanguage({separator:()=>c.exports.regexp(/([^\S\n]*[;\n])+[^\S\n]*/),variable:()=>c.exports.regexp(/[a-z_]+/),program:r=>r.block.trim(c.exports.optWhitespace),block:r=>c.exports.alt(r.statementSequence,c.exports.seq(v("("),r.statementSequence,v(")")).map(O)),statement:r=>c.exports.alt(r.statementSkip,r.statementAssign,r.statementIf,r.statementWhile),statementSkip:()=>c.exports.seq(c.exports.string("skip"),c.exports.index).map(([r,p])=>k({type:r,label:0},p)),statementAssign:r=>c.exports.seq(r.variable,v(":="),r.numeric,c.exports.index).map(([p,h,d,l])=>k({type:"assign",label:0,variable:p,expression:d},l)),statementIf:r=>c.exports.seq(v("if"),r.boolean,c.exports.index,v("then"),r.block,v("else"),r.block).map(([p,h,d,l,b,X,ne])=>k({type:"if",label:0,condition:h,ifBody:b,elseBody:ne},d)),statementWhile:r=>c.exports.seq(v("while"),r.boolean,c.exports.index,v("do"),r.block).map(([p,h,d,l,b])=>k({type:"while",label:0,condition:h,body:b},d)),statementSequence:r=>c.exports.sepBy1(r.statement,r.separator.atLeast(1)).trim(r.separator.many()).map(p=>({type:"seq",statements:p})),numeric:r=>r.numericLevel1,numericLevel1:r=>c.exports.seq(r.numericLevel2,c.exports.seq(v("+","-"),r.numericLevel2).many()).map(([p,h])=>h.reduce((d,[l,b])=>({type:l,left:d,right:b}),p)),numericLevel2:r=>c.exports.seq(r.numericLevel3,c.exports.seq(v("*","/"),r.numericLevel3).many()).map(([p,h])=>h.reduce((d,[l,b])=>({type:l,left:d,right:b}),p)),numericLevel3:r=>c.exports.alt(r.numericConstant,r.numericVariable,r.numericGroup),numericConstant:()=>c.exports.regex(/-?[0-9]+/).map(Number).map(r=>({type:"n",value:r})),numericVariable:r=>r.variable.map(p=>({type:"var",name:p})),numericGroup:r=>c.exports.seq(v("("),r.numeric,v(")")).map(O),boolean:r=>r.booleanLevel1,booleanLevel1:r=>c.exports.seq(r.booleanLevel2,c.exports.seq(v("or"),r.booleanLevel2).many()).map(([p,h])=>h.reduce((d,[l,b])=>({type:l,left:d,right:b}),p)),booleanLevel2:r=>c.exports.seq(r.booleanLevel3,c.exports.seq(v("and"),r.booleanLevel3).many()).map(([p,h])=>h.reduce((d,[l,b])=>({type:l,left:d,right:b}),p)),booleanLevel3:r=>c.exports.alt(r.booleanConstant,r.booleanComparison,r.booleanGroup,r.booleanNegation),booleanConstant:()=>c.exports.alt(c.exports.string("true"),c.exports.string("false")).map(r=>({type:r})),booleanComparison:r=>c.exports.seq(r.numeric,v("<",">","<=",">=","==","!="),r.numeric).map(([p,h,d])=>({type:h,left:p,right:d})),booleanGroup:r=>c.exports.seq(v("("),r.boolean,v(")")).map(O),booleanNegation:r=>c.exports.seq(v("not"),r.boolean).map(([p,h])=>({type:p,value:h}))}).program.parse(Q);if(u.status){const r=new Array,p=new Set,h=l=>{switch(l.type){case"true":case"false":case"n":break;case"var":p.add(l.name);break;case"not":h(l.value);break;case"+":case"-":case"*":case"/":case"<":case">":case"<=":case">=":case"==":case"!=":case"or":case"and":h(l.right),h(l.left);break}},d=l=>{if(l.type==="seq")return K(k({},l),{statements:l.statements.map(d)});const b=r.length+1;switch(r.push({text:b.toString(),position:{lineNumber:l.line,column:l.column},kind:0}),l.type){case"skip":return K(k({},l),{label:b});case"assign":return p.add(l.variable),h(l.expression),K(k({},l),{label:b});case"if":return h(l.condition),K(k({},l),{label:b,ifBody:d(l.ifBody),elseBody:d(l.elseBody)});case"while":return h(l.condition),K(k({},l),{label:b,body:d(l.body)})}};return{succeeded:!0,program:d(u.value),inlayHints:r,variables:[...p]}}else return k({succeeded:!1,expected:u.expected},u.index)})})();
